!function(){"use strict";var e=io.connect(window.pserver);window.setShowMass(!0),window.setSkipStats(!0),function(){window.alert=function(e){return!0},$(window).on("keydown",function(e){13==e.keyCode&&document.getElementById("chat_textbox").disabled===!0&&(document.getElementById("chat_textbox").disabled=!1)})}(),function(e){var t;$(window).on("mousedown",function(n){3==n.which&&(t=setInterval(function(){window.onkeydown({keyCode:87}),window.onkeyup({keyCode:87})},e))}),$(window).on("mouseup",function(e){3==e.which&&clearInterval(t)})}(50),function(){var e,t=$("#nick"),n=JSON.parse(localStorage.getItem("names_agario")),o=localStorage.getItem("last_agario_name");if(null===n){n=[];var i=prompt("Nuevo nombre: ");null!==i&&n.push(i),localStorage.setItem("names_agario",JSON.stringify(n))}var a=$("<select>",{id:"nick",class:"form-control",change:function(){if("nuevo"==$(this).val()){var e=prompt("Nuevo nombre: ");null!==e&&($(this).prepend($("<option>",{value:e,text:e})),n.push(e),localStorage.setItem("names_agario",JSON.stringify(n)),$(this).val(e))}else localStorage.setItem("last_agario_name",$(this).val())}});n.forEach(function(t){e=$("<option>",{value:t,text:t}),a.append(e)}),e=$("<option>",{text:"Agregar Nuevo",value:"nuevo"}),a.append(e),null!==o&&a.val(o),t.replaceWith(a)}(),function(){var t=$("<canvas>",{class:"mapcanvas"}).prop({width:"150",height:"150"}).get(0),n=t.getContext("2d");$("#mini-map-wrapper").append(t),e.on("connected",function(){console.log("Connectado")}),setInterval(function(){var t=$("#pserver").val(),n=window.mini_map_tokens.filter(function(e){return void 0!==e});console.log(n),e.emit("sendcoord",n,t)},100),e.on("aliescoord",function(e){n.clearRect(0,0,t.width,t.height),e.forEach(function(e){var o=e.x*t.width,i=e.y*t.height,a=e.size*t.width;n.beginPath(),n.arc(o,i,a,0,2*Math.PI,!1),n.closePath(),n.fillStyle=e.color,n.fill()})}),$("#screenshot").hide()}(),function(){function t(){var e=$("div.privateChat");i.is(":checked")?(e.show(),window.setHideChat(!0),o.show()):(e.hide(),o.hide(),window.setHideChat(!1))}var n=$("<div>",{class:"privateChat"}),o=$("<input>",{class:"privateChat",type:"text",placeholder:"Chat Privado",maxlength:34}),i=$(".hide_chatbox > label").first().children("input");$(window).on("keydown",function(e){9===e.which&&(e.preventDefault(),i.prop("checked",!i.is(":checked")),t())}),i.click(t),t(),e.on("allieschat",function(e,t,n){if(t.length>0){var o=$("div.privateChat"),i=$("<span>",{style:"color: "+n,text:e+": "}),a=$("<span>",{text:t});a.prepend(i),o.children().length>=10&&o.find("span:first").remove(),o.append(a),console.log(t)}}),o.keydown(function(t){if(13==t.which){var n=window.mini_map_tokens.filter(function(e){return void 0!==e})[0];console.log("color"),e.emit("sendchat",$("#nick").val(),$(this).val(),n.color),$(this).val("")}});var a=$("body");a.append(o),a.append(n)}(),function(){var e=$("#mainPanel");e.css({position:"relative"});var t=$("<div>",{class:"optionScript"});t.append($('<h2>Menu Script</h2><div><h3>Codigo Amigo</h3><input type="text" id="pserver"></div><h4>Script Desarrollado por: Michel Betancourt(Akhail)</h4>')),e.append(t)}()}();